<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root">
      <article>Prepare for interview</article>
      <section>
        on
        <p>
          <span>
            Learnersbucket
            <button>click me!</button>
            <button id="target">click me!</button>
          </span>
        </p>
      </section>
    </div>
    <!-- "div[id='root'] > section:nth-child(2) > p:nth-child(1) > span:nth-child(1) > button:nth-child(2)" -->

    <script>
      const root = document.getElementById("root");
      const target = document.getElementById("target");

      function getCssSelectors(root, target) {
        let selectors = [];

        while (root != target) {
          const nthChild =
            Array.from(target.parentNode.children).indexOf(target) + 1;
          let selector = ` ${target.tagName.toLowerCase()}:nth-child(${nthChild}) `;
          selectors.unshift(selector);
          target = target.parentNode;
        }

        let rootSelector = ` ${root.tagName.toLowerCase()}[id="${target.id}"] `;
        selectors.unshift(rootSelector);

        return selectors.join(">");
      }

      console.log(getCssSelectors(root, target));
    </script>
  </body>
</html>
